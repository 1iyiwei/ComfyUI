{"last_node_id": 42, "last_link_id": 53, "nodes": [{"id": 22, "type": "ACN_AdvancedControlNetApply", "pos": [1293.0375117809215, 797.010105648793], "size": {"0": 360, "1": 270}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 22}, {"name": "negative", "type": "CONDITIONING", "link": 23}, {"name": "control_net", "type": "CONTROL_NET", "link": 24}, {"name": "image", "type": "IMAGE", "link": 36}, {"name": "mask_optional", "type": "MASK", "link": null}, {"name": "timestep_kf", "type": "TIMESTEP_KEYFRAME", "link": null}, {"name": "latent_kf_override", "type": "LATENT_KEYFRAME", "link": null}, {"name": "weights_override", "type": "CONTROL_NET_WEIGHTS", "link": null}, {"name": "model_optional", "type": "MODEL", "link": null}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [26], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [29], "shape": 3, "slot_index": 1}, {"name": "model_opt", "type": "MODEL", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ACN_AdvancedControlNetApply"}, "widgets_values": [0.45, 0, 0.8], "color": "#223", "bgcolor": "#335"}, {"id": 20, "type": "ACN_AdvancedControlNetApply", "pos": [883.0375117809186, 797.010105648793], "size": {"0": 360, "1": 270}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 39, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "link": 28, "slot_index": 1}, {"name": "control_net", "type": "CONTROL_NET", "link": 21}, {"name": "image", "type": "IMAGE", "link": 35}, {"name": "mask_optional", "type": "MASK", "link": null}, {"name": "timestep_kf", "type": "TIMESTEP_KEYFRAME", "link": null}, {"name": "latent_kf_override", "type": "LATENT_KEYFRAME", "link": null}, {"name": "weights_override", "type": "CONTROL_NET_WEIGHTS", "link": null, "slot_index": 7}, {"name": "model_optional", "type": "MODEL", "link": null}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [22], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [23], "shape": 3, "slot_index": 1}, {"name": "model_opt", "type": "MODEL", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ACN_AdvancedControlNetApply"}, "widgets_values": [1, 0, 0.8], "color": "#223", "bgcolor": "#335"}, {"id": 10, "type": "IPAdapterAdvanced", "pos": [440, -270], "size": {"0": 320, "1": 280}, "flags": {}, "order": 18, "mode": 4, "inputs": [{"name": "model", "type": "MODEL", "link": 10}, {"name": "ipadapter", "type": "IPADAPTER", "link": 11}, {"name": "image", "type": "IMAGE", "link": 14, "slot_index": 2}, {"name": "image_negative", "type": "IMAGE", "link": null}, {"name": "attn_mask", "type": "MASK", "link": null}, {"name": "clip_vision", "type": "CLIP_VISION", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [37], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "IPAdapterAdvanced"}, "widgets_values": [0.8, "ease in", "concat", 0, 1, "V only"]}, {"id": 14, "type": "LoraLoaderModelOnly", "pos": [-520, -270], "size": {"0": 320, "1": 82}, "flags": {}, "order": 10, "mode": 4, "inputs": [{"name": "model", "type": "MODEL", "link": 16}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [17], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LoraLoaderModelOnly"}, "widgets_values": ["sdxl_lightning_8step_lora.safetensors", 1]}, {"id": 11, "type": "IPAdapterUnifiedLoader", "pos": [450, -520], "size": {"0": 320, "1": 80}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 17}, {"name": "ipadapter", "type": "IPADAPTER", "link": null}], "outputs": [{"name": "model", "type": "MODEL", "links": [10], "shape": 3, "slot_index": 0}, {"name": "ipadapter", "type": "IPADAPTER", "links": [11, 40], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "IPAdapterUnifiedLoader"}, "widgets_values": ["PLUS (high strength)"]}, {"id": 7, "type": "CLIPTextEncode", "pos": [-152.38217462937257, 27.547841820516638], "size": {"0": 520, "1": 180}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 5}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [28], "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["text, watermark, color"]}, {"id": 25, "type": "IPAdapterStyleComposition", "pos": [864.970071256055, -272.070794472969], "size": {"0": 320, "1": 322}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 37}, {"name": "ipadapter", "type": "IPADAPTER", "link": 40}, {"name": "image_style", "type": "IMAGE", "link": 32}, {"name": "image_composition", "type": "IMAGE", "link": 34}, {"name": "image_negative", "type": "IMAGE", "link": null}, {"name": "attn_mask", "type": "MASK", "link": null}, {"name": "clip_vision", "type": "CLIP_VISION", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [38], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "IPAdapterStyleComposition"}, "widgets_values": [1.4000000000000001, 1, false, "average", 0, 0.8, "V only"]}, {"id": 31, "type": "Note", "pos": [-260, -700], "size": {"0": 420, "1": 240}, "flags": {}, "order": 0, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Simple image style transfer with a prompt:\n- Enable Basic and disable Style + Controlnets\n\nImage style transfer + Image composition with a prompt:\n- Disable basic and enable style + composition \n- For even more control enable the controlnets as well\n\nNotes:\nThe IPAdapter weight type has a large effect on the outcome.  \n\nJuggernaught model: \nhttps://civitai.com/models/133005?modelVersionId=357609\n\nIPAdpater Models: \nhttps://github.com/cubiq/ComfyUI_IPAdapter_plus"], "color": "#432", "bgcolor": "#653"}, {"id": 4, "type": "CheckpointLoaderSimple", "pos": [-522.3821746293726, -132.45215817948338], "size": {"0": 320, "1": 100}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [16], "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [3, 5], "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [8], "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["juggernautXL_v9Rdphoto2Lightning.safetensors"]}, {"id": 12, "type": "LoadImage", "pos": [450, 200], "size": {"0": 320, "1": 314}, "flags": {}, "order": 2, "mode": 4, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [14], "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["AdobeStock_267566919_1k.jpeg", "image"]}, {"id": 6, "type": "CLIPTextEncode", "pos": [-152.38217462937257, -282.4521581794834], "size": {"0": 520, "1": 250}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 3}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [39], "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["beautiful interior design, high quality"]}, {"id": 19, "type": "ControlNetLoaderAdvanced", "pos": [870.5192810396317, 685.728365286394], "size": {"0": 370, "1": 60}, "flags": {}, "order": 3, "mode": 0, "inputs": [{"name": "timestep_keyframe", "type": "TIMESTEP_KEYFRAME", "link": null}], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [21], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ControlNetLoaderAdvanced"}, "widgets_values": ["SDXL/sai_xl_depth_256lora.safetensors"], "color": "#223", "bgcolor": "#335"}, {"id": 21, "type": "ControlNetLoaderAdvanced", "pos": [1282.0178561180048, 694.7785642289315], "size": {"0": 370, "1": 60}, "flags": {}, "order": 4, "mode": 0, "inputs": [{"name": "timestep_keyframe", "type": "TIMESTEP_KEYFRAME", "link": null}], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [24], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ControlNetLoaderAdvanced"}, "widgets_values": ["SDXL/control-lora-canny-rank256.safetensors"], "color": "#223", "bgcolor": "#335"}, {"id": 24, "type": "LoadImage", "pos": [854.970071256055, 207.92920552703129], "size": {"0": 320, "1": 314}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [32], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "title": "Style Image", "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["AdobeStock_267566919_1k.jpeg", "image"]}, {"id": 26, "type": "LoadImage", "pos": [1204.9700712560546, 207.92920552703129], "size": {"0": 320, "1": 314}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [34, 35, 36, 41], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "title": "Composition Image", "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["AdobeStock_258357963_2k.jpeg", "image"]}, {"id": 5, "type": "EmptyLatentImage", "pos": [-522, 38], "size": {"0": 320, "1": 110}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [44], "slot_index": 0}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [1024, 1024, 1]}, {"id": 35, "type": "GetImageSize+", "pos": [1339.9700712560546, 78.92920552703129], "size": {"0": 210, "1": 46}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 41}], "outputs": [{"name": "width", "type": "INT", "links": [42], "shape": 3, "slot_index": 0}, {"name": "height", "type": "INT", "links": [43], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "GetImageSize+"}}, {"id": 36, "type": "EmptyLatentImage", "pos": [1229.9700712560546, -145.07079447296871], "size": {"0": 320, "1": 110}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 42, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 43, "widget": {"name": "height"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [45], "slot_index": 0}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [1024, 1024, 1]}, {"id": 13, "type": "PreviewImage", "pos": [2153, -308], "size": {"0": 550, "1": 590}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 15}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 38, "type": "Reroute", "pos": [1577.9700712560546, -164.07079447296871], "size": [75, 26], "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 45}], "outputs": [{"name": "", "type": "LATENT", "links": [52], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 32, "type": "Note", "pos": [1758, 282], "size": {"0": 210, "1": 58}, "flags": {}, "order": 8, "mode": 0, "title": "Best Results", "properties": {"text": ""}, "widgets_values": ["APA Style + Composition: CFG 3\nIPA Basic: CFG 1"], "color": "#432", "bgcolor": "#653"}, {"id": 8, "type": "VAEDecode", "pos": [1761, 171], "size": {"0": 210, "1": 50}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 7}, {"name": "vae", "type": "VAE", "link": 8}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [15], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 3, "type": "KSampler", "pos": [1748, -151], "size": {"0": 320, "1": 262}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 38}, {"name": "positive", "type": "CONDITIONING", "link": 26}, {"name": "negative", "type": "CONDITIONING", "link": 29}, {"name": "latent_image", "type": "LATENT", "link": 53}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [7], "slot_index": 0}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [514304819317053, "fixed", 15, 1, "dpmpp_2m", "sgm_uniform", 1]}, {"id": 37, "type": "Reroute", "pos": [1416, -316], "size": [75, 26], "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 44}], "outputs": [{"name": "", "type": "LATENT", "links": [51], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 41, "type": "LatentSwitch", "pos": [1809, -344], "size": {"0": 210, "1": 122}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "input1", "type": "LATENT", "link": 51}, {"name": "input2", "type": "LATENT", "link": 52}, {"name": "input3", "type": "LATENT", "link": null}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [53], "shape": 3, "label": "LATENT", "slot_index": 0}, {"name": "selected_label", "type": "STRING", "links": null, "shape": 3}, {"name": "selected_index", "type": "INT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LatentSwitch"}, "widgets_values": [2, false]}, {"id": 27, "type": "Fast Groups Bypasser (rgthree)", "pos": {"0": -540, "1": -690, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 252, "1": 230}, "flags": {}, "order": 9, "mode": 0, "inputs": [], "outputs": [{"name": "OPT_CONNECTION", "type": "*", "links": null, "slot_index": 0}], "properties": {"matchColors": "Green", "matchTitle": "", "showNav": true, "sort": "position", "customSortAlphabet": "", "toggleRestriction": "default"}}], "links": [[3, 4, 1, 6, 0, "CLIP"], [5, 4, 1, 7, 0, "CLIP"], [7, 3, 0, 8, 0, "LATENT"], [8, 4, 2, 8, 1, "VAE"], [10, 11, 0, 10, 0, "MODEL"], [11, 11, 1, 10, 1, "IPADAPTER"], [14, 12, 0, 10, 2, "IMAGE"], [15, 8, 0, 13, 0, "IMAGE"], [16, 4, 0, 14, 0, "MODEL"], [17, 14, 0, 11, 0, "MODEL"], [21, 19, 0, 20, 2, "CONTROL_NET"], [22, 20, 0, 22, 0, "CONDITIONING"], [23, 20, 1, 22, 1, "CONDITIONING"], [24, 21, 0, 22, 2, "CONTROL_NET"], [26, 22, 0, 3, 1, "CONDITIONING"], [28, 7, 0, 20, 1, "CONDITIONING"], [29, 22, 1, 3, 2, "CONDITIONING"], [32, 24, 0, 25, 2, "IMAGE"], [34, 26, 0, 25, 3, "IMAGE"], [35, 26, 0, 20, 3, "IMAGE"], [36, 26, 0, 22, 3, "IMAGE"], [37, 10, 0, 25, 0, "MODEL"], [38, 25, 0, 3, 0, "MODEL"], [39, 6, 0, 20, 0, "CONDITIONING"], [40, 11, 1, 25, 1, "IPADAPTER"], [41, 26, 0, 35, 0, "IMAGE"], [42, 35, 0, 36, 0, "INT"], [43, 35, 1, 36, 1, "INT"], [44, 5, 0, 37, 0, "*"], [45, 36, 0, 38, 0, "*"], [51, 37, 0, 41, 0, "LATENT"], [52, 38, 0, 41, 1, "LATENT"], [53, 41, 0, 3, 3, "LATENT"]], "groups": [{"title": "Input", "bounding": [-548, -416, 949, 669], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "IPAdapter Basic", "bounding": [420, -414, 392, 965], "color": "#8A8", "font_size": 24, "locked": false}, {"title": "Sampler", "bounding": [1707, -413, 393, 866], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Output", "bounding": [2115, -412, 635, 863], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "contorlnets", "bounding": [832, 575, 858, 524], "color": "#8A8", "font_size": 24, "locked": false}, {"title": "IPAdapter Style + Composition", "bounding": [828, -414, 859, 968], "color": "#8A8", "font_size": 24, "locked": false}], "config": {}, "extra": {"info": {"name": "workflow", "author": "", "description": "", "version": "1", "created": "2024-05-02T16:27:27.065Z", "modified": "2024-05-02T17:19:39.402Z", "software": "ComfyUI"}}, "version": 0.4}